import{_ as e,o as i,c as t,d as s}from"./app-CFIaTHNp.js";const a="/assets/20220207015340394_10855-BaQp3vMO.png",n="/assets/20220207020455741_14423-DSHMd5DO.png",l="/assets/20220601115731928_9728-Bg-aib-G.png",p="/assets/20220601113611092_2486-B3I6kUtG.png",c="/assets/20220601135116316_3391-Bo7Tgboi.png",d={},r=s('<h1 id="k2p-luci" tabindex="-1"><a class="header-anchor" href="#k2p-luci" aria-hidden="true">#</a> k2p-luci</h1><p>20220206 今天发现k2p的后台管理web一些功能无法使用了</p><p><img src="'+a+'" alt=""></p><p>为了修复这个问题,先对路由器上的web程序做了一下了解</p><p>后台服务器:uhttp 语言 lua</p><p><img src="'+n+`" alt=""></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>root@K2P:/# find  . -type d -iname &#39;luci&#39;
./rom/usr/lib/lua/luci
./usr/lib/lua/luci
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>https://blog.csdn.net/qq_28812525/article/details/103870169</p></blockquote><p><code>find / -type f -name &quot;*.lua&quot; | xargs grep &quot;portfwd_add_rule&quot;</code> 配置文件:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/etc/luci/*
/etc/init.d/portfwd 端口转发的配置转换
/etc/config/appportfwd 


iptables -L -v -n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2022-6-1" tabindex="-1"><a class="header-anchor" href="#_2022-6-1" aria-hidden="true">#</a> 2022/6/1</h3><p>k2p动态ip失效</p><p><img src="`+l+'" alt=""></p><p><img src="'+p+'" alt=""></p><blockquote><p>鸟哥的私房菜 http://cn.linux.vbird.org/linux_server/0250simple_firewall_5.php#nat_ip_share <img src="'+c+'" alt=""></p></blockquote><p>iptables -t nat -A PREROUTING -i pppoe-wan -p tcp --dport 36000 -j DNAT --to-destination 192.168.2.190:22</p><p>iptables -t nat -L</p>',17),o=[r];function u(_,m){return i(),t("div",null,o)}const b=e(d,[["render",u],["__file","k2p-luci.html.vue"]]);export{b as default};
