import{_ as e,o as a,c as o,d as t}from"./app-CFIaTHNp.js";const s={},c=t('<h1 id="k8s" tabindex="-1"><a class="header-anchor" href="#k8s" aria-hidden="true">#</a> k8s</h1><h2 id="alias-k8s" tabindex="-1"><a class="header-anchor" href="#alias-k8s" aria-hidden="true">#</a> alias k8s</h2><p>为了方便查看日志，编写了一个alias</p><p>alias klmes=&quot;kubectl logs -f <code>kubectl get pods | grep &#39;^mes-be&#39; | grep &#39;Running&#39; -m 1 | awk &#39;{print $1}&#39;</code>&quot;</p><p>但是在断网环境下打开新终端，发现zsh会尝试运行该命令, 在网络不通环境下打开新终端，则会导致终端卡死</p><h3 id="问题定位" tabindex="-1"><a class="header-anchor" href="#问题定位" aria-hidden="true">#</a> 问题定位</h3><p>经过多次尝试，我编写了一个二进制程序echo222， 放在<code>/usr/local/bin/</code>下， 并编写了如下的alias</p><p>alias ee=&quot;echo222&quot;</p><p>经测试，没有执行该语句</p><p>再次编写为</p><p>alias ee=&quot;echo <code>echo222</code>&quot; 经测试，执行了双引情况下号下，``（反引号）包裹的语句，</p><p>再测试下单引号 alias ee=&#39;echo <code>echo222</code>&#39; 经测试，问题解决</p><h3 id="解决方案1" tabindex="-1"><a class="header-anchor" href="#解决方案1" aria-hidden="true">#</a> 解决方案1</h3><p>使用函数</p><p>klmes () { kubectl logs -f <code>kubectl get pods | grep &#39;^mes-be&#39; | grep &#39;Running&#39; -m 1 | awk &#39;{print $1}&#39;</code> }</p><h3 id="解决方案2" tabindex="-1"><a class="header-anchor" href="#解决方案2" aria-hidden="true">#</a> 解决方案2</h3><blockquote><p>https://stackoverflow.com/questions/1250079/how-to-escape-single-quotes-within-single-quoted-strings</p></blockquote><p>使用单引号包住 alias klmes=&#39;kubectl logs -f $(kubectl get pods | grep &quot;^mes-be&quot; | grep &quot;Running&quot; -m 1 | awk &#39;&quot;&#39;&quot;&#39;{print $1}&#39;&quot;&#39;&quot;&#39;)&#39;</p>',18),i=[c];function r(d,n){return a(),o("div",null,i)}const p=e(s,[["render",r],["__file","k8s.html.vue"]]);export{p as default};
